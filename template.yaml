# AWSTemplateFormatVersion: '2010-09-09'
# Transform: AWS::Serverless-2016-10-31
# Description: FastAPI app for tasks running on Lambda + APIÂ Gateway

# Globals:
#   Function:
#     Runtime: python3.12
#     Timeout: 30
#     MemorySize: 256
#     Environment:
#       Variables:
#         MONGO_HOST: "docdb-2025-04-22-17-16-21.cluster-cluqaikoscrt.us-east-2.docdb.amazonaws.com"
#         MONGO_PORT: "27017"
#         MONGO_PASSWORD: "master123"            # or better, pull from Secrets Manager
#         CA_FILE_PATH: "/var/task/certs/global-bundle.pem"

# Resources:

#   TaskApi:
#     Type: AWS::Serverless::Function
#     Properties:
#       Handler: main.handler
#       CodeUri: .
#       Events:
#         ApiProxy:
#           Type: Api
#           Properties:
#             Path: /{proxy+}
#             Method: ANY

# Outputs:
#   ApiUrl:
#     Description: "Invoke URL for your API"
#     Value: !Sub "https://${ServerlessRestApi}.execute-api.${AWS::Region}.amazonaws.com/Prod"
